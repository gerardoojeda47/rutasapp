<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RouWhite - Descarga la App</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <div class="logo">
          <h1>🚌 RouWhite</h1>
          <p>Rutas de Transporte Público en Popayán</p>
        </div>
      </header>

      <main>
        <section class="download-section">
          <h2>📱 Descarga la Aplicación</h2>

          <div class="qr-container">
            <div class="qr-code">
              <canvas id="qr-canvas"></canvas>
              <div id="qr-loading" class="loading">
                <div class="spinner"></div>
                <p>Generando código QR...</p>
              </div>
              <div id="qr-error" class="error" style="display: none">
                <p>❌ Error al generar QR</p>
                <button onclick="generateQR()" class="retry-btn">
                  Reintentar
                </button>
              </div>
            </div>

            <div class="qr-instructions">
              <h3>📲 Cómo descargar:</h3>
              <ol>
                <li>Escanea el código QR con tu teléfono</li>
                <li>Se descargará el archivo APK</li>
                <li>Instala la aplicación</li>
              </ol>
            </div>
          </div>

          <div class="version-info">
            <div class="info-card">
              <h4>📦 Información de la versión</h4>
              <p>
                <strong>Versión:</strong>
                <span id="version-number">Cargando...</span>
              </p>
              <p>
                <strong>Fecha:</strong>
                <span id="release-date">Cargando...</span>
              </p>
              <p><strong>Tamaño:</strong> ~57 MB</p>
            </div>
          </div>

          <div class="direct-download">
            <h3>🔗 Descarga directa</h3>
            <p>Si el código QR no funciona, usa el enlace directo:</p>
            <a
              id="download-link"
              href="#"
              class="download-btn"
              style="display: none"
            >
              📥 Descargar APK
            </a>
            <div id="download-loading" class="loading-text">
              Obteniendo enlace de descarga...
            </div>
          </div>
        </section>

        <section class="instructions-section">
          <h2>📋 Instrucciones de Instalación</h2>

          <div class="instructions-grid">
            <div class="instruction-card">
              <h4>1️⃣ Habilitar fuentes desconocidas</h4>
              <p>
                Ve a
                <strong
                  >Configuración → Seguridad → Fuentes desconocidas</strong
                >
                y actívalo.
              </p>
            </div>

            <div class="instruction-card">
              <h4>2️⃣ Descargar el APK</h4>
              <p>
                Escanea el QR o usa el enlace directo para descargar el archivo.
              </p>
            </div>

            <div class="instruction-card">
              <h4>3️⃣ Instalar la aplicación</h4>
              <p>
                Abre el archivo descargado y sigue las instrucciones de
                instalación.
              </p>
            </div>
          </div>

          <div class="troubleshooting">
            <h4>🔧 Problemas comunes</h4>
            <details>
              <summary>No puedo instalar la aplicación</summary>
              <p>
                Asegúrate de haber habilitado "Fuentes desconocidas" en la
                configuración de seguridad de tu dispositivo.
              </p>
            </details>

            <details>
              <summary>La descarga no inicia</summary>
              <p>
                Intenta usar el enlace directo en lugar del código QR, o
                verifica tu conexión a internet.
              </p>
            </details>

            <details>
              <summary>La aplicación no abre</summary>
              <p>
                Verifica que tu dispositivo tenga Android 5.0 o superior.
                Reinicia el dispositivo si es necesario.
              </p>
            </details>
          </div>
        </section>

        <section class="features-section">
          <h2>🌟 Características de la App</h2>

          <div class="features-grid">
            <div class="feature-card">
              <h4>🗺️ Mapas Interactivos</h4>
              <p>
                Visualiza las rutas de transporte público en mapas detallados de
                Popayán.
              </p>
            </div>

            <div class="feature-card">
              <h4>🚏 Información de Paradas</h4>
              <p>
                Encuentra las paradas más cercanas y conoce qué rutas pasan por
                cada una.
              </p>
            </div>

            <div class="feature-card">
              <h4>🧭 Navegación GPS</h4>
              <p>
                Obtén direcciones paso a paso para llegar a tu destino usando
                transporte público.
              </p>
            </div>

            <div class="feature-card">
              <h4>📱 Interfaz Intuitiva</h4>
              <p>
                Diseño moderno y fácil de usar, optimizado para dispositivos
                móviles.
              </p>
            </div>
          </div>
        </section>
      </main>

      <footer>
        <p>© 2024 RouWhite - Aplicación de código abierto</p>
        <p>
          <a href="https://github.com/gerardoojeda47/rutasapp" target="_blank"
            >📂 Ver código fuente</a
          >
          |
          <a href="mailto:soporte@rouwhite.com">📧 Soporte</a>
        </p>
      </footer>
    </div>

    <script src="script.js"></script>
  </body>
</html>
